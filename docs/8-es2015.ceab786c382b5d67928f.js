(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{cRhG:function(e,t,i){"use strict";i.r(t),i.d(t,"ProfileModule",(function(){return W}));var s=i("ofXK"),r=i("tyNb"),o=i("fXoL"),n=i("TUuY"),a=i("2Vo4"),c=i("tk/3");let l=(()=>{class e{constructor(e){this.http=e,this.address=new a.a({area:"",building:"",city:"",flat:0,pinCode:0,state:""}),this.currentAddress=this.address.asObservable(),this.compName=new a.a(""),this.currentcompName=this.compName.asObservable()}getProfileDetails(){return this.http.get(n.c+"/user/home")}editProfileUserDetails(e){return console.log(e),this.http.put(n.c+"/user/profile",e)}getUserProfile(){return this.http.get(n.c+"/user/profile")}shareAddress(e,t){this.address.next(e),this.compName.next(t)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(c.b))},e.\u0275prov=o.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=i("XNiG");let d=(()=>{class e{constructor(e){this.http=e,this.searchSource=new a.a({code:0,results:[]}),this.currentSearch=this.searchSource.asObservable(),this.subject=new b.a}searchBook(e){return this.http.get(n.c+"/book/search?q="+e)}shareData(e){console.log(e),this.searchSource.next(e)}sendClickCall(e){console.log(e),this.subject.next({clicked:e})}getClickCall(){return this.subject.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(c.b))},e.\u0275prov=o.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var u=i("jhN1"),h=i("pLZG"),p=i("7o/Q"),f=i("quSY");class m extends f.a{constructor(e,t){super()}schedule(e,t=0){return this}}class v extends m{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,s=void 0;try{this.work(e)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let g=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class L extends g{constructor(e,t=g.now){super(e,()=>L.delegate&&L.delegate!==this?L.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return L.delegate&&L.delegate!==this?L.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const y=new L(v);class M{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new w(e,this.dueTime,this.scheduler))}}class w extends p.a{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(S,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function S(e){e.debouncedNext()}class k{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new x(e,this.compare,this.keySelector))}}class x extends p.a{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}var D=i("3Pt+");const F=["searchKey"],C=Object(u.e)("CONFIG");let G=(()=>{class e{constructor(e,t,i,r,o){if(this.fb=e,this.injector=t,this.state=i,this.headerService=r,this.platformId=o,Object(s.m)(this.platformId)){const e=this.injector.get("CONFIG")?this.injector.get("CONFIG"):{};this.state.set(C,e)}}ngOnInit(){}voiceSearch(){var e=this;if("webkitSpeechRecognition"in window){var t=new webkitSpeechRecognition;t.continuous=!0,t.interimResults=!1,t.lang="en-US",t.start();const i=this.hiddenSearchHandler.nativeElement;t.onresult=function(s){i.value=s.results[0][0].transcript,t.stop(),e.search(i.value),document.getElementById("search").click()},t.onerror=function(e){t.stop()}}else alert("your browser doesnt support speech recoginition")}search(e){var t;t=null==e?this.hiddenSearchHandler.nativeElement.value:e,console.log(t),""!=t?this.headerService.searchBook(t).pipe(Object(h.a)(Boolean),function(e,t=y){return i=>i.lift(new M(e,t))}(150),e=>e.lift(new k(void 0,void 0))).subscribe(e=>{this.response=e.results,console.log(this.response),this.headerService.shareData(e),this.headerService.sendClickCall(!0)}):this.headerService.sendClickCall(!1)}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(D.b),o.Jb(o.r),o.Jb(u.d),o.Jb(d),o.Jb(o.B))},e.\u0275cmp=o.Db({type:e,selectors:[["acuSmartHeader"]],viewQuery:function(e,t){var i;1&e&&o.hc(F,!0),2&e&&o.Yb(i=o.Vb())&&(t.hiddenSearchHandler=i.first)},inputs:{customLabel:"customLabel"},decls:15,vars:0,consts:[[1,"basicColor","row","p-4"],[1,"col-sm-4"],["id","voicesearch",1,"form-group","has-search"],["type","text","name","q","placeholder","Search","autocomplete","off",1,"form-control","search_icon"],["searchKey",""],[1,"p-2","voice_icon"],["src","assets/icons/search.png","width","20","id","search",3,"click"],[1,"voice_icon"],["src","assets/icons/microphone.png","width","20",3,"click"],[1,"text-right"],[1,"btn","btn-success"],["routerLink","/profile/user",2,"color","#fff"]],template:function(e,t){1&e&&(o.Mb(0,"header",0),o.Kb(1,"div",1),o.Mb(2,"div",1),o.Mb(3,"div",2),o.Kb(4,"input",3,4),o.Mb(6,"span",5),o.Mb(7,"img",6),o.Ub("click",(function(){return t.search()})),o.Lb(),o.Lb(),o.Mb(8,"span",7),o.Mb(9,"img",8),o.Ub("click",(function(){return t.voiceSearch()})),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Mb(10,"div",1),o.Mb(11,"div",9),o.Mb(12,"button",10),o.Mb(13,"a",11),o.dc(14,"Go to Profile"),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb())},directives:[r.b],styles:[".main[_ngcontent-%COMP%]{width:50%;margin:50px auto;background-color:red!important}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:1.375rem;max-width:90%!important}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}.search_icon[_ngcontent-%COMP%]{display:inline}.voice_icon[_ngcontent-%COMP%]{height:.8rem}"]}),e})(),O=(()=>{class e{constructor(e,t){this.profileService=e,this.headerService=t,this.profileStatus="Edit Profile"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(l),o.Jb(d))},e.\u0275cmp=o.Db({type:e,selectors:[["app-profile"]],decls:3,vars:1,consts:[[1,"header"],[3,"customLabel"]],template:function(e,t){1&e&&(o.Mb(0,"div",0),o.Kb(1,"acuSmartHeader",1),o.Kb(2,"router-outlet"),o.Lb()),2&e&&(o.zb(1),o.Xb("customLabel",t.profileStatus))},directives:[G,r.d],styles:[""]}),e})();var I=i("7Vn+");function N(e,t){if(1&e&&(o.Mb(0,"option",20),o.dc(1),o.Lb()),2&e){const e=t.$implicit;o.Xb("ngValue",e.id),o.zb(1),o.fc(" ",e.name," ")}}function K(e,t){if(1&e&&(o.Mb(0,"option",20),o.dc(1),o.Lb()),2&e){const e=t.$implicit;o.Xb("ngValue",e.id),o.zb(1),o.fc(" ",e.name," ")}}let _=(()=>{class e{constructor(e,t,i,s){this.fb=e,this.router=t,this.authService=i,this.profileService=s,this.profileStatus="Edit Profile",this.submitted=!1,this.allGrades1=[{name:"Grade 1",id:1},{name:"Grade 2",id:2},{name:"Grade 3",id:3},{name:"Grade 4",id:4},{name:"Grade 5",id:5},{name:"Grade 6",id:6},{name:"Grade 6",id:6},{name:"Grade 7",id:7},{name:"Grade 8",id:8},{name:"Grade 9",id:9},{name:"Grade 10",id:10},{name:"CBSE",id:11},{name:"state Board",id:12}],this.allGrades2=[{name:"Grade 1",id:1},{name:"Grade 2",id:2},{name:"Grade 3",id:3},{name:"Grade 4",id:4},{name:"Grade 5",id:5},{name:"Grade 6",id:6},{name:"Grade 6",id:6},{name:"Grade 7",id:7},{name:"Grade 8",id:8},{name:"Grade 9",id:9},{name:"Grade 10",id:10},{name:"CBSE",id:11},{name:"state Board",id:12}],this.profileForm=this.fb.group({firstname:["",D.k.required],lastname:["",D.k.required],phonenumber:[""],grade_one:["1",D.k.required],grade_two:["2",D.k.required]})}ngOnInit(){}get profileFormControl(){return this.profileForm.controls}applyDetails(){this.profileService.editProfileUserDetails({first_name:this.profileForm.value.firstname,last_name:this.profileForm.value.lastname,phone:this.profileForm.value.phonenumber,grades:[this.profileForm.value.grade_one,this.profileForm.value.grade_two]}).subscribe(e=>{console.log(e)}),this.router.navigate(["/profile/details"])}logout(){this.authService.logoutUser(),this.router.navigate(["/login"])}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(D.b),o.Jb(r.a),o.Jb(I.a),o.Jb(l))},e.\u0275cmp=o.Db({type:e,selectors:[["app-profile-view"]],decls:39,vars:4,consts:[[1,"container-fluid"],[1,"row","profileForm"],[1,"col-md-12","col-sm-12","col-xs-12","col-lg-4"],[1,"card","boxShadow"],[1,"card-body"],[1,"basic_details"],[3,"formGroup","ngSubmit"],[1,"form-group","pb-3"],["for","exampleInputEmail1"],["type","text","id","firstname","aria-describedby","emailHelp","placeholder","First Name","formControlName","firstname",1,"form-control"],["for","exampleInputPassword1"],["type","text","id","lastname","placeholder","Last Name","formControlName","lastname",1,"form-control"],["type","text","id","phonenumber","placeholder","Phone Number","formControlName","phonenumber",1,"form-control"],[1,"form-header","pb-2"],[1,"mb-2"],["formControlName","grade_one",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","grade_two",1,"form-control"],["type","submit",1,"btn","btn-primary","authSubmit",3,"disabled"],[1,"btn","btn-danger",3,"click"],[3,"ngValue"]],template:function(e,t){1&e&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.Kb(2,"div",2),o.Mb(3,"div",2),o.Mb(4,"div",3),o.Mb(5,"div",4),o.Mb(6,"div",5),o.Mb(7,"b"),o.dc(8," Basic Details "),o.Lb(),o.Lb(),o.Mb(9,"form",6),o.Ub("ngSubmit",(function(){return t.applyDetails()})),o.Mb(10,"div",7),o.Mb(11,"label",8),o.dc(12,"First Name"),o.Lb(),o.Kb(13,"input",9),o.Lb(),o.Mb(14,"div",7),o.Mb(15,"label",10),o.dc(16,"Last Name"),o.Lb(),o.Kb(17,"input",11),o.Lb(),o.Mb(18,"div",7),o.Mb(19,"label",10),o.dc(20,"Phone Number"),o.Lb(),o.Kb(21,"input",12),o.Lb(),o.Mb(22,"div",13),o.Mb(23,"div",5),o.Mb(24,"b"),o.dc(25," Grades "),o.Lb(),o.Lb(),o.Mb(26,"small",14),o.dc(27," Select two grades to be accessed in the app"),o.Lb(),o.Lb(),o.Mb(28,"div",7),o.Mb(29,"select",15),o.cc(30,N,2,2,"option",16),o.Lb(),o.Lb(),o.Mb(31,"div",7),o.Mb(32,"select",17),o.cc(33,K,2,2,"option",16),o.Lb(),o.Lb(),o.Mb(34,"button",18),o.dc(35," Apply Details "),o.Lb(),o.Lb(),o.Lb(),o.Mb(36,"button",19),o.Ub("click",(function(){return t.logout()})),o.dc(37,"LOGOUT"),o.Lb(),o.Lb(),o.Lb(),o.Kb(38,"div",2),o.Lb(),o.Lb()),2&e&&(o.zb(9),o.Xb("formGroup",t.profileForm),o.zb(21),o.Xb("ngForOf",t.allGrades1),o.zb(3),o.Xb("ngForOf",t.allGrades2),o.zb(1),o.Xb("disabled",!t.profileForm.valid))},directives:[D.m,D.g,D.d,D.a,D.f,D.c,D.j,s.h,D.h,D.l],styles:[""]}),e})();var P=i("lJxs");let z=(()=>{class e{constructor(e,t){this.http=e,this._sanitizer=t}getImage(e){return this.http.get(e,{responseType:"blob"}).pipe(Object(P.a)(e=>{var t=window.URL;return this._sanitizer.bypassSecurityTrustUrl(t.createObjectURL(e))}))}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(c.b),o.Qb(u.c))},e.\u0275prov=o.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),R=(()=>{class e{constructor(e){this.http=e}initializePayment(e){return this.http.get(n.b+"/init/"+e)}pay(e){}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(c.b))},e.\u0275prov=o.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),A=(()=>{class e{constructor(e,t,i){this.paymentService=e,this.router=t,this.profileService=i}ngOnInit(){}paymentInit(){this.paymentService.initializePayment(this.bookDetailsData.id).subscribe(e=>{this.addressRes=e.user.address,this.profileService.shareAddress(this.addressRes,"payment"),this.router.navigate(["/profile/addressEdit"])})}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(R),o.Jb(r.a),o.Jb(l))},e.\u0275cmp=o.Db({type:e,selectors:[["app-book-detail"]],inputs:{bookDetailsData:"bookDetailsData"},decls:20,vars:3,consts:[[1,"bookInfo"],[1,"row"],[1,"col-sm-3","col-md-3","col-lg-3","col-xs-3","p-3"],[1,"card"],[1,"card-body"],["src","../../../assets/icons/newbook.jpeg",1,"imgSrc"],[1,"row","marBottom"],[1,"row","mb-3"],[1,"basicColor","purchase_button","form-control","whiteText",3,"click"]],template:function(e,t){1&e&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.Mb(2,"div",2),o.Mb(3,"div",3),o.Mb(4,"div",4),o.Kb(5,"img",5),o.Lb(),o.Lb(),o.Lb(),o.Mb(6,"div",2),o.dc(7),o.Lb(),o.Kb(8,"div",2),o.Kb(9,"div",2),o.Mb(10,"div",6),o.Mb(11,"p"),o.Mb(12,"b"),o.dc(13,"About the book"),o.Lb(),o.Lb(),o.Mb(14,"p"),o.dc(15),o.Lb(),o.Lb(),o.Mb(16,"div",7),o.Mb(17,"button",8),o.Ub("click",(function(){return t.paymentInit()})),o.Mb(18,"b"),o.dc(19),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb()),2&e&&(o.zb(7),o.fc(" ",t.bookDetailsData.name," "),o.zb(8),o.fc(" ",t.bookDetailsData.description,""),o.zb(4),o.fc(" PURCHASE THIS BOOK (\u0930 ",t.bookDetailsData.price,")"))},styles:[".imgSrc[_ngcontent-%COMP%]{width:9rem;height:9rem}.marBottom[_ngcontent-%COMP%]{margin-bottom:10rem}.purchase_button[_ngcontent-%COMP%]{padding:1.5rem;border-radius:5px}"]}),e})();function B(e,t){if(1&e){const e=o.Nb();o.Mb(0,"div",7),o.Ub("click",(function(){o.Zb(e);const i=t.$implicit;return o.Wb(3).showBookDetails(i)})),o.Mb(1,"div",8),o.Mb(2,"div",9),o.Kb(3,"img",10),o.Lb(),o.Lb(),o.Lb()}if(2&e){const e=t.$implicit;o.zb(3),o.Xb("src",e.image,o.ac)}}function J(e,t){if(1&e&&(o.Mb(0,"div"),o.Mb(1,"h2"),o.dc(2),o.Lb(),o.Mb(3,"div",5),o.cc(4,B,4,1,"div",6),o.Lb(),o.Lb()),2&e){const e=t.$implicit;o.zb(2),o.fc("",e.headline," "),o.zb(2),o.Xb("ngForOf",e.books)}}function U(e,t){if(1&e&&(o.Mb(0,"div"),o.cc(1,J,5,2,"div",4),o.Lb()),2&e){const e=o.Wb();o.zb(1),o.Xb("ngForOf",e.response)}}function X(e,t){if(1&e&&(o.Mb(0,"div",11),o.Kb(1,"app-book-detail",12),o.Lb()),2&e){const e=o.Wb();o.zb(1),o.Xb("bookDetailsData",e.bookDetails)}}let E=(()=>{class e{constructor(e,t,i){this.profileService=e,this.headerService=t,this.imageService=i,this.books=[],this.bookDetailsShow=!1}ngOnInit(){this.profileDetails()}profileDetails(){this.profileService.getProfileDetails().subscribe(e=>{for(var t in this.response=e.results,console.log(e.results),this.response)for(var i in this.response[t].books);this.headerService.getClickCall().subscribe(t=>{console.log(t),t.clicked?(console.log("called"),this.headerService.currentSearch.subscribe(e=>{this.searchResults=e.results,this.response=this.searchResults})):this.response=e.results})})}showBookDetails(e){this.bookDetailsShow=!this.bookDetailsShow,this.bookDetails=e}getBase64ImageFromUrl(e){return t=this,void 0,s=function*(){var t=yield fetch(e),i=yield t.blob();return new Promise((e,t)=>{var s=new FileReader;s.addEventListener("load",(function(){e(s.result)}),!1),s.onerror=()=>t(this),s.readAsDataURL(i)})},new((i=void 0)||(i=Promise))((function(e,r){function o(e){try{a(s.next(e))}catch(t){r(t)}}function n(e){try{a(s.throw(e))}catch(t){r(t)}}function a(t){var s;t.done?e(t.value):(s=t.value,s instanceof i?s:new i((function(e){e(s)}))).then(o,n)}a((s=s.apply(t,[])).next())}));var t,i,s}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(l),o.Jb(d),o.Jb(z))},e.\u0275cmp=o.Db({type:e,selectors:[["app-profile-details"]],decls:4,vars:2,consts:[[1,"container"],[1,"p-4","boxShadow"],[4,"ngIf"],["class","bookDetails",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],["class","col-sm-2 col-md-2 col-lg-2 col-xs-2 p-3","style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[1,"col-sm-2","col-md-2","col-lg-2","col-xs-2","p-3",2,"cursor","pointer",3,"click"],[1,"card"],[1,"card-body"],[1,"imgSrc",3,"src"],[1,"bookDetails"],[3,"bookDetailsData"]],template:function(e,t){1&e&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.cc(2,U,2,1,"div",2),o.cc(3,X,2,1,"div",3),o.Lb(),o.Lb()),2&e&&(o.zb(2),o.Xb("ngIf",!t.bookDetailsShow),o.zb(1),o.Xb("ngIf",t.bookDetailsShow))},directives:[s.i,s.h,A],styles:[".imgSrc[_ngcontent-%COMP%]{width:9rem;height:9rem}"]}),e})(),j=(()=>{class e{constructor(e){this.profileService=e,this.profileAddress="No address added. Add an address to recieve physical copies of your purchased books (non-free  books only)"}ngOnInit(){this.profileService.getUserProfile().subscribe(e=>{this.profileResults=e.result,0!==Object.keys(this.profileAddress).length&&(this.profileAddress=this.profileResults.address.flat+" "+this.profileResults.address.building+" "+this.profileResults.address.area+" "+this.profileResults.address.city+" "+this.profileResults.address.state+" "+this.profileResults.address.pinCode),this.profileService.shareAddress(this.profileResults.address,"profileUser")})}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(l))},e.\u0275cmp=o.Db({type:e,selectors:[["app-profile-user"]],decls:47,vars:6,consts:[[1,"container"],[1,"p-4","boxShadow"],[1,"row"],[1,"col-6","p-2"],[1,"textColor"],[1,"col-6","p-2","text-right"],[1,"btn","btn-success"],["routerLink","/profile/view",1,"whiteText"],[1,"form-row"],[1,"col","p-2"],["for","firstname"],["for","inputEmail4"],["routerLink","/profile/addressEdit",1,"whiteText"]],template:function(e,t){1&e&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.Mb(2,"div",2),o.Mb(3,"div",3),o.Mb(4,"p",4),o.Mb(5,"b"),o.dc(6,"Basic Details"),o.Lb(),o.Lb(),o.Lb(),o.Mb(7,"div",5),o.Mb(8,"button",6),o.Mb(9,"a",7),o.dc(10," Edit "),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Mb(11,"div",8),o.Mb(12,"div",9),o.Mb(13,"label",10),o.Mb(14,"b"),o.dc(15,"First Name"),o.Lb(),o.Lb(),o.Kb(16,"br"),o.dc(17),o.Lb(),o.Mb(18,"div",9),o.Mb(19,"label",11),o.Mb(20,"b"),o.dc(21,"Last Name"),o.Lb(),o.Lb(),o.Kb(22,"br"),o.dc(23),o.Lb(),o.Mb(24,"div",9),o.Mb(25,"label",11),o.Mb(26,"b"),o.dc(27,"Phone Number"),o.Lb(),o.Lb(),o.Kb(28,"br"),o.dc(29),o.Lb(),o.Mb(30,"div",9),o.Mb(31,"label",11),o.Mb(32,"b"),o.dc(33,"Grades and Books"),o.Lb(),o.Lb(),o.Kb(34,"br"),o.dc(35),o.Lb(),o.Mb(36,"div",3),o.Mb(37,"label",11),o.Mb(38,"b"),o.dc(39,"Address"),o.Lb(),o.Lb(),o.Kb(40,"br"),o.Mb(41,"div"),o.dc(42),o.Lb(),o.Lb(),o.Mb(43,"div",3),o.Mb(44,"button",6),o.Mb(45,"a",12),o.dc(46," Edit "),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb()),2&e&&(o.zb(17),o.fc(" ",null==t.profileResults?null:t.profileResults.first_name," "),o.zb(6),o.fc(" ",null==t.profileResults?null:t.profileResults.last_name," "),o.zb(6),o.fc(" ",null==t.profileResults?null:t.profileResults.phone," "),o.zb(6),o.gc(" Grade ",null==t.profileResults?null:t.profileResults.grades[0],", Grade ",null==t.profileResults?null:t.profileResults.grades[1]," "),o.zb(7),o.ec(t.profileAddress))},directives:[r.b],styles:[""]}),e})();function V(e,t){if(1&e){const e=o.Nb();o.Mb(0,"form",4),o.Ub("ngSubmit",(function(){return o.Zb(e),o.Wb().saveAddress()})),o.Mb(1,"div",5),o.Kb(2,"input",6),o.Lb(),o.Mb(3,"div",5),o.Kb(4,"input",7),o.Lb(),o.Mb(5,"div",5),o.Kb(6,"input",8),o.Lb(),o.Mb(7,"div",5),o.Kb(8,"input",9),o.Lb(),o.Mb(9,"div",5),o.Kb(10,"input",10),o.Lb(),o.Mb(11,"div",5),o.Kb(12,"input",11),o.Lb(),o.Mb(13,"button",12),o.dc(14," Apply "),o.Lb(),o.Lb()}if(2&e){const e=o.Wb();o.Xb("formGroup",e.addressForm),o.zb(13),o.Xb("disabled",!e.addressForm.valid)}}function T(e,t){if(1&e){const e=o.Nb();o.Mb(0,"form",4),o.Ub("ngSubmit",(function(){return o.Zb(e),o.Wb().coninuePayment()})),o.Mb(1,"div",5),o.Kb(2,"input",6),o.Lb(),o.Mb(3,"div",5),o.Kb(4,"input",7),o.Lb(),o.Mb(5,"div",5),o.Kb(6,"input",8),o.Lb(),o.Mb(7,"div",5),o.Kb(8,"input",9),o.Lb(),o.Mb(9,"div",5),o.Kb(10,"input",10),o.Lb(),o.Mb(11,"div",5),o.Kb(12,"input",11),o.Lb(),o.Mb(13,"button",12),o.dc(14," Continue "),o.Lb(),o.Lb()}if(2&e){const e=o.Wb();o.Xb("formGroup",e.addressForm),o.zb(13),o.Xb("disabled",!e.addressForm.valid)}}let H=(()=>{class e{constructor(e,t,i){this.fb=e,this.profileService=t,this.router=i,this.applyButton=!1,this.continueButton=!1,this.submitted=!1}ngOnInit(){this.profileService.currentAddress.subscribe(e=>{this.createForm(e)}),this.profileService.currentcompName.subscribe(e=>{"payment"==e?(this.applyButton=!1,this.continueButton=!0):(this.applyButton=!0,this.continueButton=!1)})}createForm(e){this.addressForm=this.fb.group({flat:[e.flat],building:[e.building],area:[e.area],city:[e.city],state:[e.state],pincode:[e.pinCode]})}saveAddress(){this.submitted=!0,this.profileService.editProfileUserDetails({address:{area:this.addressForm.value.area,building:this.addressForm.value.building,city:this.addressForm.value.city,flat:this.addressForm.value.flat,pinCode:this.addressForm.value.pincode,state:this.addressForm.value.state}}).subscribe(e=>{this.response=e.msg,console.log(this.response)}),this.addressForm.invalid||setTimeout(()=>{this.router.navigate(["/profile/user"])},1e3)}coninuePayment(){this.submitted=!0,this.addressForm.invalid||setTimeout(()=>{this.router.navigate(["/payment"])},1e3)}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(D.b),o.Jb(l),o.Jb(r.a))},e.\u0275cmp=o.Db({type:e,selectors:[["app-profile-edit"]],decls:6,vars:2,consts:[[1,"container"],[1,"p-4","boxShadow"],[1,"row"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","p-2"],["type","text","formControlName","flat","placeholder","Flat/House Number",1,"form-control"],["type","text","formControlName","building","placeholder","Building/Society",1,"form-control"],["type","text","formControlName","area","placeholder","Area/Locality",1,"form-control"],["type","text","formControlName","city","placeholder","City",1,"form-control"],["type","text","formControlName","state","placeholder","State",1,"form-control"],["type","text","formControlName","pincode","placeholder","Pincode",1,"form-control"],["type","submit",1,"btn","btn-primary","authSubmit",3,"disabled"]],template:function(e,t){1&e&&(o.Mb(0,"div",0),o.Mb(1,"div",1),o.Mb(2,"div",2),o.dc(3," Please fill in your address below. For paid books we will also be shipping physical copies of the books to you via post. "),o.Lb(),o.cc(4,V,15,2,"form",3),o.cc(5,T,15,2,"form",3),o.Lb(),o.Lb()),2&e&&(o.zb(4),o.Xb("ngIf",t.applyButton),o.zb(1),o.Xb("ngIf",t.continueButton))},directives:[s.i,D.m,D.g,D.d,D.a,D.f,D.c],styles:[""]}),e})();const q=[{path:"",component:O,children:[{path:"details",component:E},{path:"view",component:_},{path:"user",component:j},{path:"edit",component:H},{path:"addressEdit",component:H}]}];let Q=(()=>{class e{}return e.\u0275mod=o.Hb({type:e}),e.\u0275inj=o.Gb({factory:function(t){return new(t||e)},imports:[[r.c.forChild(q)],r.c]}),e})(),W=(()=>{class e{}return e.\u0275mod=o.Hb({type:e}),e.\u0275inj=o.Gb({factory:function(t){return new(t||e)},imports:[[s.b,Q,D.i]]}),e})()}}]);